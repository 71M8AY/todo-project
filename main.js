(()=>{"use strict";var e={208:(e,t,n)=>{n.d(t,{A:()=>a});var i=n(601),r=n.n(i),l=n(314),d=n.n(l)()(r());d.push([e.id,':root {\n  --white: #ffffffff;\n  --rich-black: #00171fff;\n  --prussian-blue: #003459ff;\n  --cerulean: #007ea7ff;\n  --picton-blue: #00a8e8ff;\n  interpolate-size: allow-keywords;\n}\n\n::-webkit-scrollbar {\n  width: 10px;\n}\n\n::-webkit-scrollbar-track {\n  margin-bottom: 20px;\n  background: #f1f1f1;\n  border-radius: 15px;\n}\n\n::-webkit-scrollbar-thumb {\n  background: var(--picton-blue);\n  border-radius: 15px;\n}\n\n::-webkit-scrollbar-thumb:hover {\n  background: var(--cerulean);\n}\n\n* {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n  appearance: none;\n  outline: none;\n}\n\n.display {\n  display: none !important;\n}\n\n.visibility {\n  visibility: hidden !important;\n}\n\n.expanded {\n  padding: 5px !important;\n  height: fit-content !important;\n}\n\n.footerBorder {\n  border-top: 2px solid var(--rich-black) !important;\n}\n\n.crossed {\n  color: gray !important;\n  text-decoration: line-through !important;\n}\n\nbody {\n  background-color: var(--prussian-blue);\n  height: 100vh;\n  width: clamp(900px, 100vw, 100%);\n}\n\n/* ------------------------------- */\n/* Overall content wrapper div  */\n/* ------------------------------- */\n.wrapper {\n  padding: max(10px, 0.5%);\n  height: max(100dvh, 100%);\n  width: 100%;\n  background-color: var(--prussian-blue);\n  display: grid;\n  grid-template-columns: minmax(200px, 1fr) minmax(600px, 6fr);\n  grid-template-rows: minmax(600px, 1fr);\n  gap: 5px;\n}\n/* ------------------------------- */\n\n/* Sidebar content  */\n/* ------------------------------- */\n.sideContent {\n  height: 100%;\n  width: 100%;\n  background-color: var(--prussian-blue);\n  grid-column: 1 / 2;\n  grid-row: 1 / 3;\n  display: grid;\n  grid-template-rows: minmax(180px, 1fr) 6fr;\n}\n\n/* Top part  */\n\n.profile {\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  align-items: start;\n  gap: 5%;\n  padding: 10px;\n  margin-bottom: 10px;\n  border: 5px solid var(--rich-black);\n  border-radius: 15px;\n  background-color: var(--cerulean);\n}\n\n.user-info {\n  display: flex;\n  justify-content: start;\n  gap: 5%;\n}\n\n.user-info .userName {\n  font-size: clamp(2rem, 2vw, 2.3rem);\n  font-weight: 700;\n  font-style: italic;\n  text-decoration: underline;\n}\n\n.userDesc {\n  padding: 5px;\n  background-color: white;\n  border-radius: 10px;\n  border: 3px solid var(--rich-black);\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n}\n\n.userDesc p:last-child {\n  font-size: clamp(1.3rem, 2vw, 1.5rem);\n}\n\n.userIcon {\n  padding-left: 5px;\n  width: clamp(60px, 5vw, 80px);\n}\n\n.searchLibrary {\n  display: flex;\n  align-items: center;\n  gap: 5px;\n}\n\n.searchLibrary img {\n  padding: 5px;\n  width: clamp(30px, 2vw, 40px);\n  border: 2px solid var(--rich-black);\n  background-color: var(--picton-blue);\n  border-radius: 50%;\n}\n\n.search {\n  font-weight: 600;\n  padding: 0 5px;\n  border: 2px solid rgba(0, 0, 0, 0);\n  border-radius: 10px;\n  width: clamp(80%, 3vw, 100%);\n  height: 25px;\n}\n\n.search:focus {\n  border: 2px solid var(--rich-black);\n}\n\n/* Bottom part  */\n\n.library {\n  padding: 10px;\n  border: 5px solid var(--rich-black);\n  border-radius: 15px;\n  background-color: var(--white);\n}\n\n.add {\n  position: relative;\n  font-size: 1.3rem;\n  font-weight: 600;\n  display: flex;\n  justify-content: start;\n  align-items: center;\n  gap: clamp(5%, 1vw, 10%);\n}\n\n.add img {\n  cursor: pointer;\n  width: 35px;\n}\n\n.projects {\n  padding: 20px 0;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  gap: 20px;\n}\n\n.projects > div {\n  position: relative;\n  user-select: none;\n  display: flex;\n  flex-grow: 1;\n  justify-content: space-between;\n  align-items: center;\n  gap: clamp(5px, 1.5vw, 10px);\n}\n\n.projects p {\n  cursor: pointer;\n  white-space: nowrap;\n  border: 1px solid var(--rich-black);\n  font-weight: 600;\n  padding: 5px 10px;\n  background-color: var(--picton-blue);\n  border-radius: 5px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  width: clamp(120px, 10vw, 170px);\n}\n\n.actions {\n  display: flex;\n  flex-wrap: wrap;\n  align-self: center;\n  gap: clamp(5px, 2vw, 10px);\n}\n\n.projects img {\n  cursor: pointer;\n  width: clamp(15px, 1.5vw, 25px);\n}\n\ndialog:modal {\n  overlay: none;\n}\n\n.addProject {\n  position: absolute;\n  display: flex;\n  align-items: center;\n  gap: 5px;\n  width: 100%;\n  height: 30px;\n  top: 2px;\n}\n\n.addProject > input {\n  padding: 2px 5px;\n  border-radius: 10px;\n  border: 2px solid var(--rich-black);\n  width: 100%;\n  height: 100%;\n}\n\n.addProject img {\n  width: 18px;\n}\n\n.addProjectActions {\n  display: flex;\n  align-items: flex-end;\n  gap: 10px;\n}\n\n.renameProject {\n  background-color: var(--white);\n  position: absolute;\n  display: flex;\n  height: 100%;\n  gap: 5px;\n}\n\n.renameProject input {\n  border: 2px solid var(--rich-black);\n  padding-left: 10px;\n  border-radius: 10px;\n  width: 69%;\n  height: 100%;\n}\n\n.renameActions {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 10px;\n}\n\n/* ------------------------------- */\n\n/* Main content  */\n/* ------------------------------- */\n.projectContent {\n  border: 5px solid var(--rich-black);\n  border-radius: 30px;\n  grid-column: 2 / 3;\n  grid-row: 1 / 3;\n  display: grid;\n  grid-template-rows: minmax(150px, 1fr) 6fr;\n  background-color: var(--white);\n}\n\n/* Top part  */\n\n.info {\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border-radius: 30px;\n  border: 5px solid var(--white);\n  background-color: var(--rich-black);\n}\n\n.noteSearch {\n  display: flex;\n  gap: 15px;\n  flex-grow: 1;\n  min-width: 400px;\n  max-width: min(60%, 700px);\n  height: 40px;\n}\n\n.noteSearch img {\n  cursor: pointer;\n  border: 2px solid var(--picton-blue);\n  background-color: white;\n  border-radius: 50%;\n  padding: 5px;\n}\n\n#addNoteBtn {\n  border: none;\n  padding: 0;\n  width: 40px;\n}\n\n.addNote {\n  background-color: var(--prussian-blue);\n  padding: 10px;\n  top: 40%;\n  left: 40%;\n  border-radius: 10px;\n  width: 250px;\n  height: 260px;\n  overflow: hidden;\n}\n\n.addNote > form {\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n}\n\n.addNote input[type="image"] {\n  border: 2px solid var(--rich-black);\n  background-color: white;\n  border-radius: 50%;\n  width: 30px;\n  padding: 3px;\n}\n\n.addNote input[type="text"] {\n  font-weight: 600;\n  padding-left: 10px;\n  border-radius: 10px;\n  height: 25px;\n}\n\n.addNote textarea {\n  padding: 2px;\n  border-radius: 5px;\n}\n\n.date {\n  display: flex;\n  align-items: center;\n  gap: 5px;\n  color: white;\n}\n\n.date p {\n  font-weight: 600;\n}\n\n.addNote input[type="date"] {\n  border-radius: 10px;\n  width: 150px;\n  height: 25px;\n  padding-left: 10px;\n  align-self: center;\n}\n\n.addNote select {\n  align-self: center;\n  height: 30px;\n  width: 80px;\n}\n\n.dialogActions {\n  display: flex;\n  justify-content: flex-end;\n  gap: 10px;\n  align-items: center;\n}\n\n.addNote select > option:first-child {\n  height: 60px;\n  background-color: red;\n}\n\n.addNote select > option:nth-child(2) {\n  background-color: yellow;\n}\n\n.addNote select > option:nth-child(3) {\n  background-color: greenyellow;\n}\n.addNote select > option:last-child {\n  background-color: antiquewhite;\n}\n\n.renameNote {\n  width: 250px;\n  height: 220px;\n}\n\n.renameNoteActions {\n  margin-top: 10px;\n}\n\n.noteSearchField {\n  padding: 0 15px;\n  font-size: 1.5rem;\n  flex-grow: 1;\n  border-radius: 15px;\n}\n\n.noteSearchField:focus {\n  border: 2px solid var(--picton-blue);\n}\n\n/* Bottom part  */\n\n.notes {\n  display: flex;\n  overflow: scroll;\n  overflow-x: hidden;\n  flex-wrap: wrap;\n  gap: 10px;\n  padding: 2%;\n  height: fit-content;\n}\n\n.notes > div {\n  width: 200px;\n}\n\n.notes > div > div:nth-child(2) {\n  background-color: rgba(0, 166, 232, 0.1);\n  border: 2px solid var(--rich-black);\n  border-radius: 10px;\n  margin-bottom: 4px;\n  height: fit-content;\n  width: 200px;\n}\n\n.noteActions {\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n  gap: 5px;\n  padding: 5px;\n}\n\n.noteActions img {\n  cursor: pointer;\n}\n\n.noteActions > div {\n  width: 15px;\n  margin-right: auto;\n}\n\n.noteActions > div img {\n  cursor: pointer;\n}\n\n.noteActions > img:first-child {\n  margin-right: auto;\n}\n\n.notes img {\n  width: 15px;\n}\n\n.noteTitle,\n.noteFooter {\n  height: 60px;\n}\n\n.noteTitle {\n  padding: 5px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-weight: 600;\n  border-bottom: 2px solid var(--rich-black);\n}\n\n.noteTitle p {\n  hyphens: auto;\n  text-align: center;\n  font-size: 1.4rem;\n  flex-grow: 1;\n  max-width: 100%;\n  max-height: 100%;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.noteFooter {\n  display: grid;\n  border-top: 0 solid black;\n  grid-template-columns: 4fr 1fr;\n  transition: border-top ease-in 0.4s;\n}\n\n.extra {\n  display: flex;\n  overflow: hidden;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  height: 0px;\n  padding: 0;\n  transition: height ease 0.5s, padding 0.5s;\n}\n\n.description {\n  width: 100%;\n  padding: 5px;\n  text-align: center;\n  word-break: whitespace;\n  white-space: normal;\n}\n\n.description p {\n  padding: 5px;\n  background-color: var(--picton-blue);\n  border-radius: 5px;\n}\n\n.extraList {\n  display: flex;\n  flex-direction: column;\n}\n\n.extraList > div {\n  padding: 2px;\n  border-radius: 5px;\n  margin-bottom: 5px;\n  position: relative;\n  display: flex;\n  gap: 5px;\n  justify-content: flex-end;\n  align-items: center;\n}\n\n.extraList > div > div:last-child {\n  display: flex;\n  gap: 5px;\n  justify-content: flex-end;\n  align-items: center;\n}\n\n.extraList div > div:nth-child(2) {\n  position: relative;\n  width: fit-content;\n}\n\n.extraList div > div:nth-child(2) > input {\n  position: absolute;\n  word-break: whitespace;\n  white-space: normal;\n  border-radius: 5px;\n  width: 100%;\n  height: 100%;\n  padding-left: 2px;\n  right: 0;\n  top: 0;\n}\n\n.extraList p {\n  width: 100%;\n  text-align: center;\n  word-break: whitespace;\n  white-space: normal;\n}\n\n.extraList img {\n  cursor: pointer;\n  width: 12px !important;\n}\n\n.extraList input:first-child {\n  display: grid;\n  place-items: center;\n  cursor: pointer;\n  border: 2px solid var(--rich-black);\n  border-radius: 5px;\n  background-color: white;\n  min-width: 15px;\n  min-height: 15px;\n}\n\n.extraList input::before {\n  content: "";\n  width: 9px;\n  height: 9px;\n  clip-path: polygon(14% 44%, 0 65%, 50% 100%, 100% 16%, 80% 0%, 43% 62%);\n  transform: scale(0);\n  transition: 120ms transform ease-in-out;\n  box-shadow: inset 1em 1em black;\n}\n\n.extraList input:checked::before {\n  transform: scale(1);\n}\n\n.addSubNote {\n  cursor: pointer;\n  margin-left: 8px;\n  margin-bottom: 10px;\n  width: 25px !important;\n}\n\n.subNoteInputDiv {\n  display: flex;\n  padding: 5px;\n  gap: 5px;\n  width: 100%;\n}\n\n.subNoteInputDiv input {\n  border: 1px solid var(--rich-black);\n  border-radius: 8px;\n  width: 75%;\n  height: 25px;\n  padding-left: 5px;\n}\n\n.subNoteInputDiv img {\n  cursor: pointer;\n}\n\n.extraList {\n  align-self: flex-end;\n}\n\n.priority {\n  border-radius: 0 0 8px 0;\n  background-color: red;\n  border-left: 2px solid var(--rich-black);\n}\n\n.priority select {\n  width: 100%;\n  height: 100%;\n  /* border: 1px solid var(--rich-black); */\n  border-radius: 0 0 8px 0;\n  background-color: red;\n  cursor: pointer;\n}\n\n.priority select > option:first-child {\n  height: 60px;\n  background-color: red;\n}\n\n.priority select > option:nth-child(2) {\n  background-color: yellow;\n}\n\n.priority select > option:nth-child(3) {\n  background-color: greenyellow;\n}\n.priority select > option:last-child {\n  background-color: antiquewhite;\n}\n\n.dueDate {\n  font-size: 1.2rem;\n  font-weight: 600;\n  justify-self: center;\n  align-self: center;\n}\n',""]);const a=d},314:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",i=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),i&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),i&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,i,r,l){"string"==typeof e&&(e=[[null,e,void 0]]);var d={};if(i)for(var a=0;a<this.length;a++){var s=this[a][0];null!=s&&(d[s]=!0)}for(var c=0;c<e.length;c++){var o=[].concat(e[c]);i&&d[o[0]]||(void 0!==l&&(void 0===o[5]||(o[1]="@layer".concat(o[5].length>0?" ".concat(o[5]):""," {").concat(o[1],"}")),o[5]=l),n&&(o[2]?(o[1]="@media ".concat(o[2]," {").concat(o[1],"}"),o[2]=n):o[2]=n),r&&(o[4]?(o[1]="@supports (".concat(o[4],") {").concat(o[1],"}"),o[4]=r):o[4]="".concat(r)),t.push(o))}},t}},601:e=>{e.exports=function(e){return e[1]}},72:e=>{var t=[];function n(e){for(var n=-1,i=0;i<t.length;i++)if(t[i].identifier===e){n=i;break}return n}function i(e,i){for(var l={},d=[],a=0;a<e.length;a++){var s=e[a],c=i.base?s[0]+i.base:s[0],o=l[c]||0,h="".concat(c," ").concat(o);l[c]=o+1;var p=n(h),g={css:s[1],media:s[2],sourceMap:s[3],supports:s[4],layer:s[5]};if(-1!==p)t[p].references++,t[p].updater(g);else{var u=r(g,i);i.byIndex=a,t.splice(a,0,{identifier:h,updater:u,references:1})}d.push(h)}return d}function r(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,r){var l=i(e=e||[],r=r||{});return function(e){e=e||[];for(var d=0;d<l.length;d++){var a=n(l[d]);t[a].references--}for(var s=i(e,r),c=0;c<l.length;c++){var o=n(l[c]);0===t[o].references&&(t[o].updater(),t.splice(o,1))}l=s}}},659:e=>{var t={};e.exports=function(e,n){var i=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(n)}},540:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},56:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var i="";n.supports&&(i+="@supports (".concat(n.supports,") {")),n.media&&(i+="@media ".concat(n.media," {"));var r=void 0!==n.layer;r&&(i+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),i+=n.css,r&&(i+="}"),n.media&&(i+="}"),n.supports&&(i+="}");var l=n.sourceMap;l&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(l))))," */")),t.styleTagTransform(i,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},113:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var l=t[i]={id:i,exports:{}};return e[i](l,l.exports,n),l.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var i=t.getElementsByTagName("script");if(i.length)for(var r=i.length-1;r>-1&&(!e||!/^http(s?):/.test(e));)e=i[r--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),n.nc=void 0;class i{constructor(e,t,n,i){this.title=e,this.desc=t,this.prio=i,this.due=n,this.subNotes=[]}set due(e){this._due=""===e?"Indefinite":e}addSubNote(e){this.subNotes.push(e)}showSubNotes(){return this.subNotes.map((e=>e.goal))}targetSubNote(e){const t=this.subNotes.findIndex((t=>t.goal===e));if(t<0)throw new Error("Subnote doesn't exist!");return this.subNotes[t]}removeSubNote(e){const t=this.subNotes.findIndex((t=>t.goal===e));if(t<0)throw new Error("Goal doesn't exist!");this.subNotes.splice(t,1)}renameNote(e){this.title=e}changeDesc(e){this.desc=e}changePrio(e){this.prio=e}changeDue(e){this._due=""===e?"Indefinite":e}}class r{constructor(e){this.name=e,this.notes=[]}addNote(e){this.notes.push(e)}removeNote(e){const t=this.notes.findIndex((t=>t.title===e));if(t<0)throw new Error("Note doesn't exist!");this.notes.splice(t,1)}renameProject(e){this.name=e}showNotes(){return this.notes.map((e=>e.title))}targetNote(e){const t=this.notes.findIndex((t=>t.title===e));if(t<0)throw new Error("Note doesn't exist!");return this.notes[t]}noteIndex(e){return this.notes.findIndex((t=>t.title===e))}}class l{constructor(e,t=!1){this.goal=e,this.state=t}renameGoal(e){this.goal=e}changeState(e){this.state=e}}const d=function(){let e=[];return window.addEventListener("DOMContentLoaded",(()=>{for(const t of JSON.parse(localStorage.getItem("libraryArray"))){e.push(new r(t.name));for(const n of t.notes){e[e.length-1].addNote(new i(n.title,n.desc,n._due,n.prio));for(const t of n.subNotes)e[e.length-1].notes[e[e.length-1].notes.length-1].addSubNote(new l(t.goal,t.state))}}})),{addProject:t=>{e.push(t)},removeProject:t=>{const n=e.findIndex((e=>e.name===t));console.log(n),e.splice(n,1)},targetProject:t=>{const n=e.findIndex((e=>e.name===t));return e[n]},projectIndex:t=>e.findIndex((e=>e.name===t)),displayLibraryList:()=>e.map((e=>e.name)),libraryList:e}}();function a(e){if("Indefinite"==(e+=""))return e;let t=e.split("-");switch(t[1]){case"01":t[1]="Jan";break;case"02":t[1]="Feb";break;case"03":t[1]="Mar";break;case"04":t[1]="Apr";break;case"05":t[1]="May";break;case"06":t[1]="Jun";break;case"07":t[1]="Jul";break;case"08":t[1]="Aug";break;case"09":t[1]="Sep";break;case"10":t[1]="Oct";break;case"11":t[1]="Nov";break;case"12":t[1]="Dec"}return[t[0],t[2]]=[t[2],t[0]],t.join("-")}var s=n(72),c=n.n(s),o=n(825),h=n.n(o),p=n(659),g=n.n(p),u=n(56),f=n.n(u),m=n(540),b=n.n(m),x=n(113),v=n.n(x),C=n(208),y={};y.styleTagTransform=v(),y.setAttributes=f(),y.insert=g().bind(null,"head"),y.domAPI=h(),y.insertStyleElement=b(),c()(C.A,y),C.A&&C.A.locals&&C.A.locals;const L=n.p+"f1ccda32f809680af730.svg",w=n.p+"0bb9f46f17327d9e4e7d.svg",E=n.p+"c75298d94e1d4ba98585.svg",N=n.p+"ef694428870eceadefc7.svg",j=n.p+"fbf96a41ce37ca048f75.svg",k=n.p+"e6a3a98abe071adfaed5.svg";window.addEventListener("load",(()=>{for(const e of d.libraryList)G(e.name)}));const S=document.querySelector(".projects"),P=document.querySelector(".search"),A=document.querySelector(".noteSearchField"),O=/^[a-zA-Z0-9_]/;let I="";const D=document.querySelector(".notes"),J=document.querySelector("#addNoteBtn"),T=document.querySelector(".addNote"),q=document.querySelector(".addProject"),M=document.querySelector(".addProject > input"),_=document.querySelector(".addProjectActions > img:last-child"),B=document.querySelector(".addProjectActions > img:first-child"),F=document.querySelector(".add > img"),z=document.querySelector(".add > p");function G(e){const t=document.createElement("div");t.appendChild(document.createElement("p"));const n=document.createElement("div");n.className="actions",n.appendChild(Object.assign(document.createElement("img"),{src:w,alt:"Edit"})),n.appendChild(Object.assign(document.createElement("img"),{src:E,alt:"Delete"}));const i=document.createElement("div");i.classList.add("display","renameProject"),i.appendChild(Object.assign(document.createElement("input"),{type:"text"}));const r=document.createElement("div");r.className="renameActions",r.appendChild(Object.assign(document.createElement("img"),{src:N,alt:"Accept"})),r.appendChild(Object.assign(document.createElement("img"),{src:E,alt:"Cancel"})),i.appendChild(r),t.appendChild(n),S.appendChild(t),t.firstChild.textContent=e,t.append(i),t.firstChild.addEventListener("click",(()=>{I=t.firstChild.textContent,D.textContent="",function(e){for(let t of d.targetProject(e).notes){R(t.title,t.desc,a(t._due),t.prio);for(let e of t.subNotes)U(e.goal)}}(I),J.classList.remove("visibility")})),n.lastChild.addEventListener("click",(e=>{e.stopPropagation(),I===t.firstChild.textContent&&(D.textContent=""),d.removeProject(t.firstChild.textContent),localStorage.setItem("libraryArray",JSON.stringify(d.libraryList)),S.removeChild(t),0===d.displayLibraryList().length&&(I="",J.classList.add("visibility"))})),n.firstChild.addEventListener("click",(()=>{i.classList.toggle("display"),i.children[0].value=t.firstChild.textContent,i.children[0].focus()})),r.lastChild.addEventListener("click",(()=>{i.classList.toggle("display")})),r.firstChild.addEventListener("click",(()=>{O.test(i.children[0].value)&&!d.displayLibraryList().includes(i.children[0].value)&&(i.classList.toggle("display"),d.targetProject(t.firstChild.textContent).renameProject(i.children[0].value),localStorage.setItem("libraryArray",JSON.stringify(d.libraryList)),t.firstChild.textContent=i.children[0].value,i.children[0].value=""),i.children[0].focus()}))}function R(e,t,n,i){const r=document.createElement("div"),s=document.createElement("dialog");s.classList.add("addNote","renameNote"),s.appendChild(Object.assign(document.createElement("form"),{method:"dialog"})),s.children[0].appendChild(Object.assign(document.createElement("input"),{type:"text",value:e})),s.children[0].appendChild(Object.assign(document.createElement("textarea"),{textContent:t,rows:5})),s.children[0].appendChild(document.createElement("div")),s.children[0].children[2].className="date",s.children[0].children[2].appendChild(Object.assign(document.createElement("p"),{textContent:"Due Date:"})),s.children[0].children[2].appendChild(Object.assign(document.createElement("input"),{type:"date",value:d.targetProject(I).targetNote(e)._due,max:"2027-01-01"}));const c=document.createElement("div");c.className="dialogActions",c.classList.add("renameNoteActions"),c.appendChild(Object.assign(document.createElement("input"),{type:"image",src:N})),c.appendChild(Object.assign(document.createElement("input"),{type:"image",src:E})),s.appendChild(c),D.appendChild(s),c.children[0].addEventListener("click",(e=>{if(e.preventDefault(),O.test(s.children[0].children[0].value)&&!d.targetProject(I).showNotes().includes(s.children[0].children[0].value)){s.close([s.children[0].children[0].value,s.children[0].children[1].value,s.children[0].children[2].children[1].value]);let e=s.returnValue.split(",");if(e.length>3){const t=e.slice(1,-1);e.splice(2,t.length-1),e[1]=t.join(", ")}d.targetProject(I).targetNote(h.children[0].firstChild.textContent).renameNote(e[0]),d.targetProject(I).targetNote(e[0]).changeDesc(e[1]),d.targetProject(I).targetNote(e[0]).changeDue(e[2]);const t=d.targetProject(I).targetNote(e[0]);localStorage.setItem("libraryArray",JSON.stringify(d.libraryList)),h.children[0].firstChild.textContent=t.title,""===t.desc?p.firstChild.textContent="No description":p.firstChild.textContent=t.desc,g.textContent=a(t._due)}})),c.children[1].addEventListener("click",(e=>{e.preventDefault(),s.close()}));const o=document.createElement("div");o.className="noteActions",o.appendChild(document.createElement("div")),o.firstChild.appendChild(Object.assign(document.createElement("img"),{src:j,alt:"Expand"})),o.children[0].appendChild(Object.assign(document.createElement("img"),{src:k,alt:"Shrink"})),o.children[0].children[0].classList.add("display"),o.children[0].children[1].classList.add("display"),o.children[0].children[0].classList.toggle("display"),o.appendChild(Object.assign(document.createElement("img"),{src:w,alt:"Edit"})),o.appendChild(Object.assign(document.createElement("img"),{src:E,alt:"Delete"})),r.appendChild(o),o.children[0].children[0].addEventListener("click",(()=>{h.children[1].classList.toggle("expanded"),h.children[2].classList.toggle("footerBorder"),o.children[0].children[0].classList.toggle("display"),o.children[0].children[1].classList.toggle("display")})),o.children[0].children[1].addEventListener("click",(()=>{h.children[1].classList.toggle("expanded"),h.children[2].classList.toggle("footerBorder"),o.children[0].children[0].classList.toggle("display"),o.children[0].children[1].classList.toggle("display")})),o.children[1].addEventListener("click",(()=>{s.showModal()})),o.children[2].addEventListener("click",(()=>{d.targetProject(I).removeNote(h.children[0].firstChild.textContent),localStorage.setItem("libraryArray",JSON.stringify(d.libraryList)),D.removeChild(r)}));const h=document.createElement("div");for(let e=0;e<3;e++)h.appendChild(document.createElement("div"));h.children[0].className="noteTitle",h.children[1].className="extra",h.children[1].classList.add("expanded"),h.children[1].classList.toggle("expanded"),h.children[2].className="noteFooter",h.children[2].classList.add("footerBorder"),h.children[2].classList.toggle("footerBorder"),h.children[0].appendChild(document.createElement("p")),h.children[0].firstChild.textContent=e;const p=document.createElement("div");p.className="description",p.appendChild(document.createElement("p")),p.firstChild.textContent=""===t?"No Description.":t,h.children[1].appendChild(p),h.children[1].appendChild(Object.assign(document.createElement("img"),{src:L})),h.children[1].children[1].classList.add("addSubNote","display"),h.children[1].children[1].classList.toggle("display"),h.children[1].appendChild(document.createElement("div")),h.children[1].children[2].classList.add("subNoteInputDiv","display"),h.children[1].children[2].appendChild(document.createElement("input")),h.children[1].children[2].appendChild(Object.assign(document.createElement("img"),{src:N,alt:"Accept"})),h.children[1].children[2].appendChild(Object.assign(document.createElement("img"),{src:E,alt:"Cancel"})),h.children[1].appendChild(document.createElement("div")),h.children[1].children[3].className="extraList",h.children[1].children[1].addEventListener("click",(()=>{h.children[1].children[1].classList.toggle("display"),h.children[1].children[2].classList.toggle("display"),h.children[1].children[2].children[0].focus()})),h.children[1].children[2].children[2].addEventListener("click",(()=>{h.children[1].children[2].firstChild.value="",h.children[1].children[1].classList.toggle("display"),h.children[1].children[2].classList.toggle("display")})),h.children[1].children[2].children[1].addEventListener("click",(()=>{if(O.test(h.children[1].children[2].firstChild.value)&&!d.targetProject(I).targetNote(h.children[0].firstChild.textContent).showSubNotes().includes(h.children[1].children[2].firstChild.value)){d.targetProject(I).targetNote(h.children[0].firstChild.textContent).addSubNote(new l(h.children[1].children[2].firstChild.value)),localStorage.setItem("libraryArray",JSON.stringify(d.libraryList));const e=document.createElement("div");e.appendChild(Object.assign(document.createElement("input"),{type:"checkbox"})),e.firstChild.classList.add("display"),e.firstChild.classList.toggle("display"),e.appendChild(document.createElement("div")),e.children[1].appendChild(Object.assign(document.createElement("p"),{textContent:h.children[1].children[2].firstChild.value})),e.children[1].firstChild.classList.add("visibility","crossed"),e.children[1].firstChild.classList.toggle("visibility"),e.children[1].firstChild.classList.toggle("crossed"),e.children[1].appendChild(Object.assign(document.createElement("input"),{type:"text"})),e.children[1].lastChild.classList.add("display"),e.children[1].lastChild.value=e.children[1].firstChild.textContent,e.appendChild(document.createElement("div")),e.lastChild.className="subNoteActions",e.lastChild.appendChild(Object.assign(document.createElement("img"),{src:w,alt:"Edit"})),e.lastChild.appendChild(Object.assign(document.createElement("img"),{src:N,alt:"Accept"})),e.lastChild.appendChild(Object.assign(document.createElement("img"),{src:E,alt:"Cancel"})),e.lastChild.appendChild(Object.assign(document.createElement("img"),{src:E,alt:"Delete"}));for(const t of e.lastChild.children)t.classList.add("display");e.lastChild.firstChild.classList.toggle("display"),e.lastChild.lastChild.classList.toggle("display"),e.lastChild.lastChild.addEventListener("click",(()=>{d.targetProject(I).targetNote(h.children[0].firstChild.textContent).removeSubNote(e.children[1].firstChild.textContent),localStorage.setItem("libraryArray",JSON.stringify(d.libraryList)),h.children[1].children[3].removeChild(e)})),e.lastChild.firstChild.addEventListener("click",(()=>{for(const t of e.lastChild.children)t.classList.toggle("display");e.firstChild.classList.toggle("display"),e.children[1].firstChild.classList.toggle("visibility"),e.children[1].lastChild.classList.toggle("display"),e.children[1].lastChild.focus()})),e.lastChild.children[1].addEventListener("click",(()=>{for(const t of e.lastChild.children)t.classList.toggle("display");O.test(e.children[1].lastChild.value)&&!d.targetProject(I).targetNote(h.children[0].firstChild.textContent).targetSubNote(e.children[1].firstChild.textContent).includes(e.children[1].lastChild.value)&&(d.targetProject(I).targetNote(h.children[0].firstChild.textContent).targetSubNote(e.children[1].firstChild.textContent).renameGoal(e.children[1].lastChild.value),localStorage.setItem("libraryArray",JSON.stringify(d.libraryList)),e.children[1].firstChild.textContent=e.children[1].lastChild.value,e.children[1].firstChild.classList.toggle("visibility"),e.children[1].lastChild.classList.toggle("display"),e.firstChild.classList.toggle("display"))})),e.lastChild.children[2].addEventListener("click",(()=>{for(const t of e.lastChild.children)t.classList.toggle("display");e.children[1].firstChild.classList.toggle("visibility"),e.children[1].lastChild.classList.toggle("display"),e.firstChild.classList.toggle("display")})),e.firstChild.addEventListener("change",(()=>{let t=d.targetProject(I).targetNote(h.children[0].firstChild.textContent).targetSubNote(e.children[1].firstChild.textContent).state;d.targetProject(I).targetNote(h.children[0].firstChild.textContent).targetSubNote(e.children[1].firstChild.textContent).changeState(!t),localStorage.setItem("libraryArray",JSON.stringify(d.libraryList)),e.children[1].firstChild.classList.toggle("crossed")})),h.children[1].children[2].firstChild.value="",h.children[1].children[1].classList.toggle("display"),h.children[1].children[2].classList.toggle("display"),h.children[1].children[3].appendChild(e)}h.children[1].children[2].children[0].focus()}));const g=document.createElement("div");g.className="dueDate",g.textContent=n;const u=document.createElement("div");u.className="priority",u.value=i,u.appendChild(document.createElement("select"));for(let e=0;e<4;e++)u.firstChild.appendChild(document.createElement("option"));u.firstChild.children[0].value="red",u.firstChild.children[1].value="yellow",u.firstChild.children[2].value="green",u.firstChild.children[3].value="white",u.firstChild.style.backgroundColor=i,u.firstChild.addEventListener("change",(()=>{d.targetProject(I).targetNote(h.children[0].firstChild.textContent).changePrio(u.firstChild.value),localStorage.setItem("libraryArray",JSON.stringify(d.libraryList)),u.firstChild.style.backgroundColor=u.firstChild.value})),h.children[2].appendChild(g),h.children[2].appendChild(u),r.appendChild(h),D.appendChild(r)}function U(e){const t=document.createElement("div");t.appendChild(Object.assign(document.createElement("input"),{type:"checkbox"})),t.firstChild.classList.add("display"),t.firstChild.classList.toggle("display"),t.appendChild(document.createElement("div")),t.children[1].appendChild(Object.assign(document.createElement("p"),{textContent:e})),t.children[1].firstChild.classList.add("visibility","crossed"),t.children[1].firstChild.classList.toggle("visibility"),t.children[1].firstChild.classList.toggle("crossed"),d.targetProject(I).targetNote(D.lastChild.lastChild.firstChild.firstChild.textContent).targetSubNote(e).state&&(t.firstChild.setAttribute("checked",""),t.children[1].firstChild.classList.toggle("crossed")),t.children[1].appendChild(Object.assign(document.createElement("input"),{type:"text"})),t.children[1].lastChild.classList.add("display"),t.children[1].lastChild.value=t.children[1].firstChild.textContent,t.appendChild(document.createElement("div")),t.lastChild.className="subNoteActions",t.lastChild.appendChild(Object.assign(document.createElement("img"),{src:w,alt:"Edit"})),t.lastChild.appendChild(Object.assign(document.createElement("img"),{src:N,alt:"Accept"})),t.lastChild.appendChild(Object.assign(document.createElement("img"),{src:E,alt:"Cancel"})),t.lastChild.appendChild(Object.assign(document.createElement("img"),{src:E,alt:"Delete"}));for(const e of t.lastChild.children)e.classList.add("display");t.lastChild.firstChild.classList.toggle("display"),t.lastChild.lastChild.classList.toggle("display"),t.lastChild.lastChild.addEventListener("click",(()=>{d.targetProject(I).targetNote(t.parentElement.parentElement.parentElement.firstChild.firstChild.textContent).removeSubNote(t.children[1].firstChild.textContent),localStorage.setItem("libraryArray",JSON.stringify(d.libraryList)),t.parentElement.removeChild(t)})),t.lastChild.firstChild.addEventListener("click",(()=>{for(const e of t.lastChild.children)e.classList.toggle("display");t.firstChild.classList.toggle("display"),t.children[1].firstChild.classList.toggle("visibility"),t.children[1].lastChild.classList.toggle("display"),t.children[1].lastChild.focus()})),t.lastChild.children[1].addEventListener("click",(()=>{for(const e of t.lastChild.children)e.classList.toggle("display");d.targetProject(I).targetNote(t.parentElement.parentElement.parentElement.firstChild.firstChild.textContent).targetSubNote(t.children[1].firstChild.textContent).renameGoal(t.children[1].lastChild.value),localStorage.setItem("libraryArray",JSON.stringify(d.libraryList)),t.children[1].firstChild.textContent=t.children[1].lastChild.value,t.children[1].firstChild.classList.toggle("visibility"),t.children[1].lastChild.classList.toggle("display"),t.firstChild.classList.toggle("display")})),t.lastChild.children[2].addEventListener("click",(()=>{for(const e of t.lastChild.children)e.classList.toggle("display");t.children[1].firstChild.classList.toggle("visibility"),t.children[1].lastChild.classList.toggle("display"),t.firstChild.classList.toggle("display")})),t.firstChild.addEventListener("change",(()=>{let e=d.targetProject(I).targetNote(t.parentElement.parentElement.parentElement.firstChild.firstChild.textContent).targetSubNote(t.children[1].firstChild.textContent).state;d.targetProject(I).targetNote(t.parentElement.parentElement.parentElement.firstChild.firstChild.textContent).targetSubNote(t.children[1].firstChild.textContent).changeState(!e),localStorage.setItem("libraryArray",JSON.stringify(d.libraryList)),t.children[1].firstChild.classList.toggle("crossed")})),D.lastChild.lastChild.children[1].lastChild.appendChild(t)}window.addEventListener("load",(()=>{J.classList.add("visibility")})),F.classList.add("visibility"),F.classList.toggle("visibility"),F.addEventListener("click",(()=>{z.textContent="",q.classList.toggle("display"),F.classList.toggle("visibility"),M.focus()})),_.addEventListener("click",(()=>{z.textContent="Add Project",M.value="",q.classList.toggle("display"),F.classList.toggle("visibility")})),B.addEventListener("click",(()=>{O.test(M.value)&&!d.displayLibraryList().includes(M.value)&&(d.addProject(new r(M.value)),localStorage.setItem("libraryArray",JSON.stringify(d.libraryList)),I=M.value,G(M.value),M.value="",z.textContent="Add Project",q.classList.toggle("display"),F.classList.toggle("visibility")),M.focus()})),T.children[0].children[3].addEventListener("change",(()=>{T.children[0].children[3].style.backgroundColor=T.children[0].children[3].value})),J.addEventListener("click",(e=>{e.preventDefault(),T.showModal(),T.children[0].children[0].focus()})),T.children[0].children[4].children[1].addEventListener("click",(e=>{e.preventDefault(),T.close()})),T.children[0].children[4].children[0].addEventListener("click",(e=>{if(e.preventDefault(),O.test(T.children[0].children[0].value)&&!d.targetProject(I).showNotes().includes(T.children[0].children[0].value)){T.close([T.children[0].children[0].value,T.children[0].children[1].value,T.children[0].children[2].children[1].value,T.children[0].children[3].value]),T.children[0].children[0].value="",T.children[0].children[1].value="",T.children[0].children[2].children[1].value="",T.children[0].children[3].value="white",T.children[0].children[3].style.backgroundColor=T.children[0].children[3].value;let e=T.returnValue.split(",");if(e.length>3){const t=e.slice(1,-2);e.splice(2,t.length-1),e[1]=t.join(", ")}d.targetProject(I).addNote(new i(e[0],e[1],e[2],e[3])),localStorage.setItem("libraryArray",JSON.stringify(d.libraryList));const t=d.targetProject(I).targetNote(e[0]);R(t.title,t.desc,a(t._due),t.prio)}T.children[0].children[0].focus()})),M.addEventListener("keydown",(e=>{"Enter"===e.key&&(O.test(M.value)&&!d.displayLibraryList().includes(M.value)&&(d.addProject(new r(M.value)),localStorage.setItem("libraryArray",JSON.stringify(d.libraryList)),I=M.value,G(M.value),M.value="",z.textContent="Add Project",q.classList.toggle("display"),F.classList.toggle("visibility")),M.focus())})),M.addEventListener("keydown",(e=>{"Escape"===e.key&&(z.textContent="Add Project",M.value="",q.classList.toggle("display"),F.classList.toggle("visibility"))})),T.addEventListener("keydown",(e=>{if("Enter"===e.key){if(e.preventDefault(),O.test(T.children[0].children[0].value)&&!d.targetProject(I).showNotes().includes(T.children[0].children[0].value)){T.close([T.children[0].children[0].value,T.children[0].children[1].value,T.children[0].children[2].children[1].value,T.children[0].children[3].value]),T.children[0].children[0].value="",T.children[0].children[1].value="",T.children[0].children[2].children[1].value="",T.children[0].children[3].value="white",T.children[0].children[3].style.backgroundColor=T.children[0].children[3].value;let e=T.returnValue.split(",");if(e.length>3){const t=e.slice(1,-2);e.splice(2,t.length-1),e[1]=t.join(", ")}d.targetProject(I).addNote(new i(e[0],e[1],e[2],e[3])),localStorage.setItem("libraryArray",JSON.stringify(d.libraryList));const t=d.targetProject(I).targetNote(e[0]);R(t.title,t.desc,a(t._due),t.prio)}T.children[0].children[0].focus()}})),P.addEventListener("input",(e=>{const t=e.target.value.toLowerCase();for(const e of d.libraryList){const n=d.projectIndex(e.name),i=e.name.toLowerCase().includes(t);S.children[n].classList.toggle("display",!i)}})),A.addEventListener("input",(e=>{const t=e.target.value.toLowerCase();let n=1;for(const e of d.targetProject(I).notes){const i=d.targetProject(I).noteIndex(e.title),r=e.title.toLowerCase().includes(t);D.children[i+n].classList.toggle("display",!r),n++}}))})();